


{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>

<html lang="es">
<head>
	<title>Folders</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="{% static 'images/icons/favicon.ico' }"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'vendor/animate/animate.css' %}">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="{% static 'vendor/css-hamburgers/hamburgers.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
<!--===============================================================================================-->	
	
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'css/util.css ' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
<!--===============================================================================================-->
</head>

<style>
.header {
    padding: 60px;
    text-align: center;
    background: #1abc9c;
    color: white;
    font-size: 30px;
}

.container {
    width: 50%;
    margin: 2rem auto;
    text-align: center;
    
}


#folder_table {
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

#folder_table td, #folder_table th {
  border: 1px solid #ddd;
  padding: 8px;
}

#folder_table tr:nth-child(even){background-color: #f2f2f2;}

#folder_table tr:hover {background-color: #ddd;}

#folder_table th {
  padding-top: 12px;
  padding-bottom: 12px;
  width: 33%;
  text-align: left;
  background-color: #4CAF50;
  color: white;
}

input{
   text-align:center;
}

</style>
<body>
	<div class="header">
       <h1>Folders</h1> 
    </div>
	
		<div class="container" >

                <table id="folder_table">
                    <tr>
                        <th>Folder name</th>
                        <th></th>
                        <th></th>
                    </tr>
                    {% for folder in folders %}  
                        
                        <tr>
                           <td><p class="" style="color: black;">{{ folder.name }}</p> </td>
                           <td><a style="color: black;" href="">View Items</a> </td>
                           <td><button class='delete_button' val={{folder.folder_id}}>Delete</button></td>
                        </tr>
                         
                    {% endfor %}
                </table>
                  
		</div>
        <div class="container" style="padding-bottom: 20px;">
            <form action="{% url 'folders' %}" method="post" style="display: block">
                {% csrf_token %}
            <input type="text" placeholder="Add new folder" class="" maxlength="30" name='new_folder'> 
            <button type="submit"  class="btn btn-success">Add Folder</button>
            </form>     
        </div>
      
	
<!--===============================================================================================-->
	<script src="{% static 'vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<!--===============================================================================================-->
	<script src="vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/daterangepicker/moment.min.js"></script>
	<script src="vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
	<script src="vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->
	<script src="js/main.js"></script>

    <script>
        $(document).ready(function(){
            $('.delete_button').click( function(){
                let id = $(this).attr('val')

                $.ajax({
                    "url": "{% url 'delete_folder' %}",
                    "method" : "post",
                    "data": {
                        "delete_id" : id,
                        "csrfmiddlewaretoken": '{{ csrf_token }}'
                    },
                    success: function(){
                        window.location.replace("{% url 'folders' %}")
                    }   
                }) 

            })
        })
        
    </script>

   </body>
</html>